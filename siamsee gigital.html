<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Autoclik Chinese New Year 2026</title>
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Sarabun', sans-serif; overscroll-behavior: none; }
        .shake-animation { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both infinite; }
    </style>
</head>
<body class="bg-red-950">
    <div id="root"></div>

    <script type="text/babel">
        // ----------------------------------------------------------------------
        // ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡∏¥‡∏á‡∏Å‡πå Web App ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô (‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢ OiS9nBA/exec)
        // ----------------------------------------------------------------------
        const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyzKnFFqhc1OvMreo1D8nRrJknyrc0IvKHrD5YGqrs0CyLaCJqb5jlKFgu3anuOiS9nBA/exec"; 
        
        // ‚ö†Ô∏è ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÉ‡∏™‡πà Gemini API Key ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö
        const GEMINI_API_KEY = ""; 
        
        const BRANCHES = [
            "‡∏™‡∏≤‡∏Ç‡∏≤‡πÇ‡∏•‡∏ï‡∏±‡∏™ ‡∏≠‡πà‡∏≠‡∏ô‡∏ô‡∏∏‡∏ä 80", "‡∏™‡∏≤‡∏Ç‡∏≤‡∏ö‡∏¥‡πä‡∏Å‡∏ã‡∏µ ‡∏Å‡∏±‡∏•‡∏õ‡∏û‡∏§‡∏Å‡∏©‡πå", "‡∏™‡∏≤‡∏Ç‡∏≤‡∏ö‡∏¥‡πä‡∏Å‡∏ã‡∏µ ‡∏°‡∏´‡∏≤‡∏ä‡∏±‡∏¢ 2",
            "‡∏™‡∏≤‡∏Ç‡∏≤‡πÇ‡∏•‡∏ï‡∏±‡∏™ ‡πÄ‡∏≠‡∏Å‡∏ä‡∏±‡∏¢ 99/1", "‡∏™‡∏≤‡∏Ç‡∏≤‡πÇ‡∏•‡∏ï‡∏±‡∏™ ‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£", "‡∏™‡∏≤‡∏Ç‡∏≤‡∏ö‡∏≤‡∏á‡∏à‡∏≤‡∏Å ‡∏ö‡∏≤‡∏á‡∏ö‡∏±‡∏ß‡∏ó‡∏≠‡∏á",
            "‡∏™‡∏≤‡∏Ç‡∏≤‡∏ö‡∏¥‡πä‡∏Å‡∏ã‡∏µ ‡∏ï‡∏¥‡∏ß‡∏≤‡∏ô‡∏ô‡∏ó‡πå", "‡∏™‡∏≤‡∏Ç‡∏≤‡∏ö‡∏¥‡πä‡∏Å‡∏ã‡∏µ ‡∏£‡∏≤‡∏°‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏≤", "‡∏™‡∏≤‡∏Ç‡∏≤‡∏õ‡∏±‡πä‡∏°‡∏ã‡∏±‡∏™‡πÇ‡∏Å‡πâ ‡πÄ‡∏û‡∏ä‡∏£‡πÄ‡∏Å‡∏©‡∏° 33",
            "‡∏™‡∏≤‡∏Ç‡∏≤‡∏õ‡∏±‡πä‡∏°‡∏ö‡∏≤‡∏á‡∏à‡∏≤‡∏Å ‡∏ß‡∏¥‡∏†‡∏≤‡∏ß‡∏î‡∏µ‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï 60", "‡∏™‡∏≤‡∏Ç‡∏≤‡∏ö‡∏¥‡πä‡∏Å‡∏ã‡∏µ ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏î‡∏≠‡∏ô‡∏à‡∏±‡πà‡∏ô",
            "‡∏™‡∏≤‡∏Ç‡∏≤‡πÇ‡∏ä‡∏ï‡∏ô‡∏≤ ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏≠‡∏•‡πå‡∏ü‡∏•‡∏≤‡∏ô‡∏ô‡∏≤", "‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏ó‡∏û‡∏Å‡∏£‡∏∞‡∏©‡∏±‡∏ï‡∏£‡∏µ",
            "‡∏™‡∏≤‡∏Ç‡∏≤‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï", "‡∏™‡∏≤‡∏Ç‡∏≤‡πÅ‡∏¢‡∏Å‡∏™‡∏µ‡πà‡∏Å‡∏≠ ‡∏Å‡∏∞‡∏ó‡∏π‡πâ ‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï"
        ];

        const FORTUNES = [
            { id: 1, title: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏õ‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á', detail: '‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏¥‡∏î‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á', image: '1.png' },
            { id: 2, title: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏°‡∏¥‡∏ï‡∏£‡∏™‡∏´‡∏≤‡∏¢', detail: '‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏à‡∏≤‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô', image: '2.png' },
            { id: 3, title: '‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ‡πÅ‡∏´‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡πâ‡∏≤‡∏ß‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î', detail: '‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á', image: '3.png' },
            { id: 4, title: '‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå', detail: '‡∏™‡∏ï‡∏¥‡∏à‡∏∞‡∏û‡∏≤‡πÉ‡∏´‡πâ‡∏û‡πâ‡∏ô‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ', image: '4.png' },
            { id: 5, title: '‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏Ñ‡∏∑‡∏≠‡∏•‡∏≤‡∏†‡∏≠‡∏±‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏™‡∏£‡∏¥‡∏ê', detail: '‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡πÄ‡∏î‡πà‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏î‡∏µ', image: '5.png' },
            { id: 6, title: '‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†‡∏´‡∏•‡∏±‡πà‡∏á‡πÑ‡∏´‡∏•‡∏°‡∏≤‡∏î‡∏±‡πà‡∏á‡∏™‡∏≤‡∏¢‡∏ô‡πâ‡∏≥', detail: '‡∏°‡∏µ‡∏Å‡∏¥‡∏ô‡∏°‡∏µ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡∏Ç‡∏≤‡∏î‡∏°‡∏∑‡∏≠', image: '6.png' },
            { id: 7, title: '‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÄ‡∏î‡πà‡∏ô‡∏ä‡∏±‡∏î', detail: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏°‡∏≤‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•', image: '7.png' },
            { id: 8, title: '‡πÄ‡∏•‡∏Ç‡πÅ‡∏õ‡∏î‡∏ô‡∏≥‡∏û‡∏≤‡πÇ‡∏ä‡∏Ñ‡πÑ‡∏°‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î', detail: '‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡∏à‡∏∞‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤', image: '8.png' },
            { id: 9, title: '‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏õ‡∏£‡∏≤‡∏£‡∏ñ‡∏ô‡∏≤', detail: '‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏≤‡∏á', image: '9.png' }
        ];

        const { useState, useEffect, useRef } = React;

        const App = () => {
            const [step, setStep] = useState('branch'); 
            const [selectedBranch, setSelectedBranch] = useState("");
            const [isShaking, setIsShaking] = useState(false);
            const [selectedFortune, setSelectedFortune] = useState(null);
            const [aiAnalysis, setAiAnalysis] = useState("");
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á Session ID ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô (‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ß‡∏° Action ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ó)
            const sessionId = useRef(Math.random().toString(36).substring(2, 15));

            // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î) ---
            const saveToGoogleSheets = (actionType, fortune, aiText) => {
                const dataToSend = {
                    sessionId: sessionId.current,
                    branch: selectedBranch,
                    fortuneTitle: fortune ? `‡πÉ‡∏ö‡∏ó‡∏µ‡πà ${fortune.id}: ${fortune.title}` : "-",
                    aiBlessing: aiText || "-",
                    action: actionType 
                };

                fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 
                        'Content-Type': 'text/plain;charset=utf-8' 
                    },
                    body: JSON.stringify(dataToSend)
                }).then(() => {
                    console.log(`‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: ${actionType}`);
                })
                .catch(err => console.error("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", err));
            };

            const fetchAiContent = async (fortune) => {
                if (!GEMINI_API_KEY) {
                    setAiAnalysis("‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏Æ‡∏á‡πÜ ‡∏£‡∏ß‡∏¢‡πÜ (‡∏à‡∏≤‡∏Å Autoclik)");
                    return "‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô";
                }
                setIsAnalyzing(true);
                try {
                    const prompt = `‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏ã‡∏µ‡πÉ‡∏ö‡∏ó‡∏µ‡πà ${fortune.id} ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ "${fortune.title}" ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î "${fortune.detail}" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Autoclik ‡∏™‡∏≤‡∏Ç‡∏≤ ${selectedBranch} ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡∏™‡∏±‡πâ‡∏ô‡πÜ 1 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ`;
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${GEMINI_API_KEY}`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    const data = await response.json();
                    const resultText = data.candidates?.[0]?.content?.parts?.[0]?.text || "‡πÄ‡∏Æ‡∏á‡πÜ ‡∏£‡∏ß‡∏¢‡πÜ";
                    setAiAnalysis(resultText);
                    return resultText;
                } catch (error) {
                    setAiAnalysis("‡∏î‡∏ß‡∏á‡∏î‡∏µ‡∏°‡∏µ‡∏ä‡∏±‡∏¢");
                    return "Error API";
                } finally {
                    setIsAnalyzing(false);
                }
            };

            const handleShake = () => {
                setIsShaking(true);
                setTimeout(async () => {
                    setIsShaking(false);
                    const randomFortune = FORTUNES[Math.floor(Math.random() * FORTUNES.length)];
                    setSelectedFortune(randomFortune);
                    setStep('result');
                    const aiResult = await fetchAiContent(randomFortune);
                    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Action ‡πÅ‡∏£‡∏Å: ‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢
                    saveToGoogleSheets("‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢", randomFortune, aiResult);
                }, 2000);
            };

            const getImageFile = async () => {
                const response = await fetch(selectedFortune.image + '?t=' + new Date().getTime());
                if (!response.ok) throw new Error("Image not found");
                const blob = await response.blob();
                return new File([blob], `Autoclik_Fortune_${selectedFortune.id}.png`, { type: 'image/png' });
            };

            const handleDownload = async () => {
                // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Action: ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î (‡∏à‡∏∞‡πÑ‡∏õ‡∏£‡∏ß‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ô‡∏ä‡∏µ‡∏ó)
                saveToGoogleSheets("‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û", selectedFortune, aiAnalysis);

                try {
                    const file = await getImageFile();
                    const url = window.URL.createObjectURL(file);
                    
                    const link = document.createElement('a');
                    link.style.display = 'none';
                    link.href = url;
                    link.download = file.name;
                    document.body.appendChild(link);
                    link.click();
                    
                    setTimeout(() => {
                        document.body.removeChild(link);
                        window.URL.revokeObjectURL(url);
                    }, 2000); 
                } catch (err) {
                    console.error("Download failed:", err);
                    window.open(selectedFortune.image, '_blank');
                }
            };

            const handleNativeShare = async () => {
                // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Action: ‡πÅ‡∏ä‡∏£‡πå (‡∏à‡∏∞‡πÑ‡∏õ‡∏£‡∏ß‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ô‡∏ä‡∏µ‡∏ó)
                saveToGoogleSheets("‡πÅ‡∏ä‡∏£‡πå‡∏ú‡πà‡∏≤‡∏ô Web Share", selectedFortune, aiAnalysis);

                try {
                    const file = await getImageFile();

                    if (navigator.canShare && navigator.canShare({ files: [file] })) {
                        await navigator.share({
                            title: '‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏ã‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• Autoclik',
                            text: `‡∏â‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏ã‡∏µ "${selectedFortune.title}" ‡πÄ‡∏Æ‡∏á‡∏°‡∏≤‡∏Å! üéâ`,
                            files: [file]
                        });
                    } else {
                        alert("‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");
                        handleDownload();
                    }
                } catch (err) {
                    console.log("Share cancelled or failed:", err);
                }
            };

            return (
                <div className="min-h-[100dvh] flex flex-col items-center justify-center p-4 text-white relative overflow-hidden">
                    <div className="absolute inset-0 opacity-10 pointer-events-none flex justify-center items-center">
                        <span className="text-[15vh] font-bold text-yellow-500 rotate-90 md:rotate-0 whitespace-nowrap">AUTOCLIK</span>
                    </div>

                    <div className="z-10 w-full max-w-lg bg-red-900/80 backdrop-blur-md p-6 rounded-3xl border border-yellow-500 shadow-2xl flex flex-col justify-center min-h-[50vh]">
                        
                        {step !== 'result' && (
                            <div className="text-center mb-6">
                                <img src="logo.png" alt="Autoclik" className="h-16 mx-auto mb-4" />
                                <p className="text-red-200 text-lg">Siamsee Dragon 2026</p>
                            </div>
                        )}

                        {step === 'branch' && (
                            <div className="w-full">
                                <h2 className="text-xl text-center mb-5 font-bold">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h2>
                                <div className="space-y-4 max-h-[50vh] overflow-y-auto pr-2">
                                    {BRANCHES.map(branch => (
                                        <button key={branch} onClick={() => { setSelectedBranch(branch); setStep('shake'); }}
                                            className="w-full py-4 px-6 bg-white/10 hover:bg-yellow-500 hover:text-red-900 border border-yellow-500/30 rounded-2xl transition duration-300 font-bold text-lg">
                                            {branch}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}

                        {step === 'shake' && (
                            <div className="text-center py-10 flex flex-col items-center">
                                <img src="shake_item.png" alt="Shake" className={`w-48 h-auto mb-6 ${isShaking ? 'animate-bounce' : ''}`} />
                                <button onClick={handleShake} disabled={isShaking}
                                    className="w-full max-w-[200px] py-4 bg-yellow-500 text-red-900 font-bold rounded-full text-2xl shadow-lg hover:scale-105 transition">
                                    {isShaking ? '...' : '‡πÄ‡∏Ç‡∏¢‡πà‡∏≤‡πÄ‡∏•‡∏¢!'}
                                </button>
                            </div>
                        )}

                        {step === 'result' && selectedFortune && (
                            <div className="text-center w-full flex flex-col items-center pb-4">
                                <img src={selectedFortune.image} alt="Fortune" className="w-full h-auto rounded-2xl shadow-2xl border-2 border-yellow-500 mb-4" />
                                <div className="bg-yellow-500/20 p-4 rounded-xl border border-yellow-500/50 mb-4 w-full">
                                    <h4 className="text-yellow-400 text-sm font-bold mb-1">‚ú® ‡∏û‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏à‡∏≤‡∏Å‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ó‡∏≠‡∏á</h4>
                                    <p className="text-white italic">{isAnalyzing ? "..." : aiAnalysis}</p>
                                </div>
                                <div className="flex gap-3 w-full mb-4">
                                    <button onClick={handleDownload} className="flex-1 bg-white/10 hover:bg-white/20 py-3 rounded-xl font-bold border border-white/30">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏û</button>
                                    <button onClick={handleNativeShare} className="flex-1 bg-yellow-500 text-red-900 hover:bg-yellow-400 py-3 rounded-xl font-bold shadow-lg">‡πÅ‡∏ä‡∏£‡πå</button>
                                </div>
                                <button onClick={() => window.location.reload()} className="text-yellow-400 underline text-sm py-2">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
